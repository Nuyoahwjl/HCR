from langchain_core.prompts import ChatPromptTemplate

# RECOMMEND_PROMPT = ChatPromptTemplate.from_template(
#     """
#     你是一位专业体检规划师，根据其他患者体检情况、医学知识和用户信息推荐体检项目，避免使用第三人称。
    
#     <其他患者体检情况>
#     {context1}
#     </其他患者体检情况>

#     <医学知识>
#     {context2}
#     </医学知识>

#     <用户信息>
#     - 性别：{gender}
#     - 年龄：{age}
#     - 身高：{height}cm
#     - 体重：{weight}kg
#     - 病史：{medical_history}
#     - 症状：{symptoms}
#     </用户信息>

#     请按以下格式输出且不要输出总结语：
#     1. 推荐项目：按优先级列出5-8个项目
#     2. 推荐理由：结合用户情况说明
#     3. 注意事项：检查前准备事项

#     """
#     )


RECOMMEND_PROMPT = ChatPromptTemplate.from_template(
    """
    作为专业体检规划师，请根据以下信息为用户制定体检方案：

    📚 参考数据池
    ├──其他患者体检案例
    │   └ {context1}
    └──医学知识
        └ {context2}

    📋 用户档案
    ├──性别：{gender}
    ├──年龄：{age}
    ├──体型：{height}cm/{weight}kg
    ├──病史：{medical_history}
    └──现症：{symptoms}

    请按以下结构化格式响应：
    ───────────────────
    ⭐ 推荐项目（按优先级）
    1. 【核心项目】项目名称
    2. 【专项筛查】项目名称 
    3. 【风险预防】项目名称
    4. 【基础检测】项目名称
    5. 【可选补充】项目名称

    🔍 推荐依据
    ├─ 结合用户[年龄/性别]特征
    ├─ 针对[具体病史/症状]的筛查需求
    ├─ 基于[身高/体重]的代谢评估
    └─ 参考同类案例的阳性发现

    ❗ 准备须知
    ► 空腹要求：是否需要禁食
    ► 药物管理：列出需暂停的药物
    ► 特殊准备：如膀胱充盈等
    ► 着装建议：宽松衣物等
    ───────────────────
    请用专业且易懂的方式呈现，避免医学 jargon 和重复内容，不要使用第三人称，不需要总结语。
    """
)